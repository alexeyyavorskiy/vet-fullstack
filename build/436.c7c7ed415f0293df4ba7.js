"use strict";(self.webpackChunkvet_frontend=self.webpackChunkvet_frontend||[]).push([[436],{9115:(h,g,a)=>{a.d(g,{C:()=>f});var l=a(7573),s=a(7716),c=a(1841);let f=(()=>{class t{constructor(r){this.http=r}getOwners(){return this.http.get(`${l.cG}/owners/getAll`)}getById(r){return this.http.get(`${l.cG}/owners/getById/${r}`)}createOwner(r){return this.http.post(`${l.cG}/owners/create`,r)}updateOwner(r){return this.http.put(`${l.cG}/owners/update/${r.id}`,r)}removeOwner(r){return this.http.delete(`${l.cG}/owners/delete/${r}`)}}return t.\u0275fac=function(r){return new(r||t)(s.LFG(c.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},4716:(h,g,a)=>{a.d(g,{z:()=>f});var l=a(7716),s=a(2238),c=a(1095);let f=(()=>{class t{constructor(r){this.dialogRef=r}ngOnInit(){}submit(){this.dialogRef.close(!0)}}return t.\u0275fac=function(r){return new(r||t)(l.Y36(s.so))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-confirmation-dialog"]],decls:10,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-button","","mat-dialog-close",""],["mat-button","","color","warn",3,"click"]],template:function(r,T){1&r&&(l.TgZ(0,"h1",0),l._uU(1,"Confirm your action!"),l.qZA(),l.TgZ(2,"div"),l.TgZ(3,"p"),l._uU(4,"Are you sure you want to continue ?"),l.qZA(),l.qZA(),l.TgZ(5,"div",1),l.TgZ(6,"button",2),l._uU(7,"Cancel"),l.qZA(),l.TgZ(8,"button",3),l.NdJ("click",function(){return T.submit()}),l._uU(9,"Continue"),l.qZA(),l.qZA())},directives:[s.uh,s.H8,c.lW,s.ZT],styles:[""]}),t})()},1436:(h,g,a)=>{a.d(g,{K:()=>qt});var l=a(4716),s=a(3679),c=a(2238),f=a(4209),t=a(7716),p=a(5207),r=a(8295),T=a(9983),v=a(3220),G=a(8583),R=a(7539),S=a(1095),j=a(2178);function L(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," BirthDay is required "),t.qZA())}function z(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," TrackingId is required "),t.qZA())}function K(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",3),t.TgZ(1,"mat-label"),t._uU(2,"Enter trackingId"),t.qZA(),t._UZ(3,"input",18),t.YNc(4,z,2,0,"mat-error",7),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",null==e.form.controls.trackingId||null==e.form.controls.trackingId.errors?null:e.form.controls.trackingId.errors.required)}}function H(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Field is required "),t.qZA())}function X(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Species is required "),t.qZA())}function V(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Full name is required "),t.qZA())}function tt(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Country is required "),t.qZA())}function et(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," City is required "),t.qZA())}function nt(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Street is required "),t.qZA())}function ot(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Zip code is required "),t.qZA())}function it(n,i){if(1&n&&(t.TgZ(0,"div",1),t.TgZ(1,"div",19),t.TgZ(2,"div",12),t.TgZ(3,"div",2),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Enter your full name"),t.qZA(),t._UZ(7,"input",20),t.YNc(8,V,2,0,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(9,"div",1),t.TgZ(10,"div",2),t.TgZ(11,"mat-form-field",3),t.TgZ(12,"mat-label"),t._uU(13,"Enter your country"),t.qZA(),t._UZ(14,"input",21),t.YNc(15,tt,2,0,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(16,"div",2),t.TgZ(17,"mat-form-field",3),t.TgZ(18,"mat-label"),t._uU(19,"Enter your city"),t.qZA(),t._UZ(20,"input",22),t.YNc(21,et,2,0,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(22,"div",2),t.TgZ(23,"mat-form-field",3),t.TgZ(24,"mat-label"),t._uU(25,"Enter your street"),t.qZA(),t._UZ(26,"input",23),t.YNc(27,nt,2,0,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(28,"div",2),t.TgZ(29,"mat-form-field",3),t.TgZ(30,"mat-label"),t._uU(31,"Enter your Zip code"),t.qZA(),t._UZ(32,"input",24),t.YNc(33,ot,2,0,"mat-error",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.Q6J("formGroup",e.ownerForm),t.xp6(8),t.Q6J("ngIf",null==e.ownerForm.controls.fullName||null==e.ownerForm.controls.fullName.errors?null:e.ownerForm.controls.fullName.errors.required),t.xp6(1),t.Q6J("formGroup",e.addressForm),t.xp6(6),t.Q6J("ngIf",null==e.addressForm.controls.country||null==e.addressForm.controls.country.errors?null:e.addressForm.controls.country.errors.required),t.xp6(6),t.Q6J("ngIf",null==e.addressForm.controls.city||null==e.addressForm.controls.city.errors?null:e.addressForm.controls.city.errors.required),t.xp6(6),t.Q6J("ngIf",null==e.addressForm.controls.street||null==e.addressForm.controls.street.errors?null:e.addressForm.controls.street.errors.required),t.xp6(6),t.Q6J("ngIf",null==e.addressForm.controls.zipCode||null==e.addressForm.controls.zipCode.errors?null:e.addressForm.controls.zipCode.errors.required)}}function rt(n,i){1&n&&(t.TgZ(0,"mat-dialog-actions"),t._UZ(1,"mat-progress-bar",25),t.qZA())}let W=(()=>{class n extends f.n{constructor(e,o,m,d){super(),this.fb=e,this.dialogRef=o,this.data=m,this.animalsService=d}ngOnInit(){var e,o,m,d,u,Z,A,C,b,q,y,D,x,I,U,N,w,k,E,F,Y,O,J,M,Q,P,$,B;this.addressForm=this.fb.group({country:[null===(d=null===(m=null===(o=null===(e=this.data)||void 0===e?void 0:e.animal)||void 0===o?void 0:o.owner)||void 0===m?void 0:m.address)||void 0===d?void 0:d.country,s.kI.required],city:[null===(C=null===(A=null===(Z=null===(u=this.data)||void 0===u?void 0:u.animal)||void 0===Z?void 0:Z.owner)||void 0===A?void 0:A.address)||void 0===C?void 0:C.city,s.kI.required],street:[null===(D=null===(y=null===(q=null===(b=this.data)||void 0===b?void 0:b.animal)||void 0===q?void 0:q.owner)||void 0===y?void 0:y.address)||void 0===D?void 0:D.street,s.kI.required],zipCode:[null===(N=null===(U=null===(I=null===(x=this.data)||void 0===x?void 0:x.animal)||void 0===I?void 0:I.owner)||void 0===U?void 0:U.address)||void 0===N?void 0:N.zipCode,s.kI.required]}),this.speciesForm=this.fb.group({label:[null===(E=null===(k=null===(w=this.data)||void 0===w?void 0:w.animal)||void 0===k?void 0:k.species)||void 0===E?void 0:E.label,s.kI.required]}),this.ownerForm=this.fb.group({fullName:[null===(O=null===(Y=null===(F=this.data)||void 0===F?void 0:F.animal)||void 0===Y?void 0:Y.owner)||void 0===O?void 0:O.fullName,s.kI.compose([s.kI.required,s.kI.minLength(3)])],address:this.addressForm}),this.form=this.fb.group({birthDay:[null===(M=null===(J=this.data)||void 0===J?void 0:J.animal)||void 0===M?void 0:M.birthDay,s.kI.required],vaccinated:[null===(P=null===(Q=this.data)||void 0===Q?void 0:Q.animal)||void 0===P?void 0:P.vaccinated],species:this.speciesForm}),this.data.isPet?this.form.addControl("owner",this.ownerForm):this.form.addControl("trackingId",new s.NI(null===(B=null===($=this.data)||void 0===$?void 0:$.animal)||void 0===B?void 0:B.trackingId,s.kI.required))}submit(){var e,o;this.form.valid&&(this.isLoading=!0,this.subscriptions.sink=((null===(e=this.data)||void 0===e?void 0:e.animal)?this.animalsService.updateAnimal(Object.assign(Object.assign({},null===(o=this.data)||void 0===o?void 0:o.animal),this.form.value)):this.animalsService.createAnimal(this.form.value)).subscribe(m=>{this.dialogRef.close(m)}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(c.so),t.Y36(c.WI),t.Y36(p.u))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-animal-dialog"]],features:[t.qOj],decls:33,vars:13,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"col-6"],["appearance","fill",1,"w-100"],["matInput","","formControlName","birthDay",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["appearance","fill","class","w-100",4,"ngIf"],[1,"col-6","mb-3"],["formControlName","vaccinated",1,"example-margin"],[1,"container-fluid","p-0"],[1,"row"],["matInput","","formControlName","label"],[3,"formGroup",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","type","button","color","primary",3,"disabled","click"],["mat-button","","mat-dialog-close",""],["matInput","","formControlName","trackingId","type","number"],[1,"container-fluid","mb-4","p-0"],["matInput","","formControlName","fullName"],["matInput","","formControlName","country"],["matInput","","formControlName","city"],["matInput","","formControlName","street"],["matInput","","formControlName","zipCode"],["mode","indeterminate"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1),t.TgZ(3,"div",2),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Enter birthDay"),t.qZA(),t._UZ(7,"input",4),t._UZ(8,"mat-datepicker-toggle",5),t._UZ(9,"mat-datepicker",null,6),t.YNc(11,L,2,0,"mat-error",7),t.qZA(),t.YNc(12,K,5,1,"mat-form-field",8),t.qZA(),t.TgZ(13,"div",9),t.TgZ(14,"mat-checkbox",10),t._uU(15,"Vaccinated"),t.qZA(),t.YNc(16,H,2,0,"mat-error",7),t.qZA(),t.TgZ(17,"div",1),t.TgZ(18,"div",11),t.TgZ(19,"div",12),t.TgZ(20,"div",2),t.TgZ(21,"mat-form-field",3),t.TgZ(22,"mat-label"),t._uU(23,"Enter species"),t.qZA(),t._UZ(24,"input",13),t.YNc(25,X,2,0,"mat-error",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(26,it,34,7,"div",14),t.TgZ(27,"div",15),t.TgZ(28,"button",16),t.NdJ("click",function(){return o.submit()}),t._uU(29),t.qZA(),t.TgZ(30,"button",17),t._uU(31,"Cancel"),t.qZA(),t.qZA(),t.YNc(32,rt,2,0,"mat-dialog-actions",7),t.qZA()),2&e){const m=t.MAs(10);t.xp6(1),t.hij("",o.data.animal?"Update":"Create new"," Animal"),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(5),t.Q6J("matDatepicker",m),t.xp6(1),t.Q6J("for",m),t.xp6(3),t.Q6J("ngIf",null==o.form.controls.birthDay||null==o.form.controls.birthDay.errors?null:o.form.controls.birthDay.errors.required),t.xp6(1),t.Q6J("ngIf",!o.data.isPet),t.xp6(4),t.Q6J("ngIf",null==o.form.controls.vaccinated||null==o.form.controls.vaccinated.errors?null:o.form.controls.vaccinated.errors.required),t.xp6(1),t.Q6J("formGroup",o.speciesForm),t.xp6(8),t.Q6J("ngIf",null==o.speciesForm.controls.label||null==o.speciesForm.controls.label.errors?null:o.speciesForm.controls.label.errors.required),t.xp6(1),t.Q6J("ngIf",o.data.isPet),t.xp6(2),t.Q6J("disabled",!o.form.valid),t.xp6(1),t.hij(" ",o.data.animal?"Update":"Create"," "),t.xp6(3),t.Q6J("ngIf",o.isLoading)}},directives:[c.uh,s._Y,s.JL,s.sg,r.KE,r.hX,T.Nt,s.Fj,v.hl,s.JJ,s.u,v.nW,r.R9,v.Mq,G.O5,R.oG,c.H8,S.lW,c.ZT,r.TO,s.wV,j.pW],styles:[""]}),n})();var lt=a(9115),_=a(2789),at=a(6627);function st(n,i){1&n&&(t.TgZ(0,"th",15),t._uU(1," Id"),t.qZA())}function mt(n,i){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function dt(n,i){1&n&&(t.TgZ(0,"th",15),t._uU(1," Species"),t.qZA())}function ct(n,i){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e||null==e.species?null:e.species.label," ")}}function ut(n,i){1&n&&(t.TgZ(0,"th",15),t._uU(1," BirthDay"),t.qZA())}function _t(n,i){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==e?null:e.birthDay,"MMM d, y")," ")}}function pt(n,i){1&n&&(t.TgZ(0,"th",15),t._uU(1," Owner"),t.qZA())}function ft(n,i){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e||null==e.owner?null:e.owner.fullName," ")}}function gt(n,i){1&n&&(t.TgZ(0,"th",15),t._uU(1," TrackingId"),t.qZA())}function Zt(n,i){if(1&n&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.trackingId," ")}}function vt(n,i){1&n&&(t.TgZ(0,"th",15),t._uU(1," Vaccinated"),t.qZA())}function ht(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",16),t.TgZ(1,"mat-checkbox",17),t.NdJ("ngModelChange",function(m){return t.CHM(e).$implicit.vaccinated=m}),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngModel",e.vaccinated)}}function Tt(n,i){1&n&&(t.TgZ(0,"th",15),t._uU(1," Actions"),t.qZA())}function At(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",16),t.TgZ(1,"div",13),t.TgZ(2,"button",18),t.NdJ("click",function(){const d=t.CHM(e).$implicit;return t.oxw().edit(d)}),t.TgZ(3,"mat-icon"),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"button",18),t.NdJ("click",function(){const d=t.CHM(e).$implicit;return t.oxw().remove(d)}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function Ct(n,i){1&n&&t._UZ(0,"tr",19)}function bt(n,i){1&n&&t._UZ(0,"tr",20)}let qt=(()=>{class n extends f.n{constructor(e,o,m){super(),this.matDialog=e,this.animalsService=o,this.ownersService=m}ngOnInit(){}edit(e){e.ownerId?this.subscriptions.sink=this.ownersService.getById(e.ownerId).subscribe(o=>{e.owner=o,this.openEditModal(e,this.isPet)}):this.openEditModal(e,this.isPet)}openEditModal(e,o){const m=this.matDialog.open(W,{width:"600px",data:{animal:e,isPet:o}});this.subscriptions.sink=m.afterClosed().subscribe(d=>{if(d){const u=this.list.find(Z=>Z.id===e.id);u&&(this.list.splice(this.list.indexOf(u),1,d),this.list=[...this.list])}})}create(){const e=this.matDialog.open(W,{width:"600px",data:{isPet:this.isPet}});this.subscriptions.sink=e.afterClosed().subscribe(o=>{o&&(this.list.unshift(o),this.list=[...this.list])})}remove(e){const o=this.matDialog.open(l.z);this.subscriptions.sink=o.afterClosed().subscribe(m=>{m&&(this.subscriptions.sink=this.animalsService.removeAnimal(e.id).subscribe(d=>{this.list=this.list.filter(u=>u.id!==d.id)}))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.uw),t.Y36(p.u),t.Y36(lt.C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-table"]],inputs:{list:"list",displayedColumns:"displayedColumns",isPet:"isPet"},features:[t.qOj],decls:29,vars:3,consts:[["mat-table","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","species"],["matColumnDef","birthDay"],["matColumnDef","owner"],["matColumnDef","trackingId"],["matColumnDef","vaccinated"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"container-fluid","d-flex","justify-content-end"],[1,"example-button-container","mt-3"],["mat-mini-fab","","color","primary",3,"click"],["mat-header-cell",""],["mat-cell",""],["disabled","",1,"example-margin",3,"ngModel","ngModelChange"],["mat-icon-button","","aria-label","Delete post",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,st,2,0,"th",2),t.YNc(3,mt,2,1,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,dt,2,0,"th",2),t.YNc(6,ct,2,1,"td",3),t.BQk(),t.ynx(7,5),t.YNc(8,ut,2,0,"th",2),t.YNc(9,_t,3,4,"td",3),t.BQk(),t.ynx(10,6),t.YNc(11,pt,2,0,"th",2),t.YNc(12,ft,2,1,"td",3),t.BQk(),t.ynx(13,7),t.YNc(14,gt,2,0,"th",2),t.YNc(15,Zt,2,1,"td",3),t.BQk(),t.ynx(16,8),t.YNc(17,vt,2,0,"th",2),t.YNc(18,ht,2,1,"td",3),t.BQk(),t.ynx(19,9),t.YNc(20,Tt,2,0,"th",2),t.YNc(21,At,8,0,"td",3),t.BQk(),t.YNc(22,Ct,1,0,"tr",10),t.YNc(23,bt,1,0,"tr",11),t.qZA(),t.TgZ(24,"div",12),t.TgZ(25,"div",13),t.TgZ(26,"button",14),t.NdJ("click",function(){return o.create()}),t.TgZ(27,"mat-icon"),t._uU(28,"add"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("dataSource",o.list),t.xp6(22),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},directives:[_.BZ,_.w1,_.fO,_.Dz,_.as,_.nj,S.lW,at.Hw,_.ge,_.ev,R.oG,s.JJ,s.On,_.XQ,_.Gk],pipes:[G.uU],styles:[""]}),n})()},5207:(h,g,a)=>{a.d(g,{u:()=>f});var l=a(7573),s=a(7716),c=a(1841);let f=(()=>{class t{constructor(r){this.http=r}getPets(){return this.http.get(`${l.cG}/animals/getAllPets`)}getAnimalById(r){return this.http.get(`${l.cG}/animals/getById/${r}`)}createAnimal(r){return this.http.post(`${l.cG}/animals/create`,r)}updateAnimal(r){return this.http.put(`${l.cG}/animals/update/${r.id}`,r)}removeAnimal(r){return this.http.delete(`${l.cG}/animals/delete/${r}`)}getWilds(){return this.http.get(`${l.cG}/animals/getAllWilds`)}}return t.\u0275fac=function(r){return new(r||t)(s.LFG(c.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);