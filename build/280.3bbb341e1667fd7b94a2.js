"use strict";(self.webpackChunkvet_frontend=self.webpackChunkvet_frontend||[]).push([[280],{9280:(N,_,s)=>{s.r(_),s.d(_,{OwnersModule:()=>it});var l=s(8583),c=s(4655),Z=s(387),t=s(7716),a=s(9115),g=s(4716),i=s(3679),p=s(2238),h=s(4209),T=s(8295),I=s(9983),C=s(1095),x=s(2178);function F(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Full name is required "),t.qZA())}function J(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Country is required "),t.qZA())}function k(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," City is required "),t.qZA())}function Q(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Street is required "),t.qZA())}function j(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Zip code is required "),t.qZA())}function B(e,r){1&e&&(t.TgZ(0,"mat-dialog-actions"),t._UZ(1,"mat-progress-bar",15),t.qZA())}let Y=(()=>{class e extends h.n{constructor(n,o,u,d){super(),this.fb=n,this.dialogRef=o,this.data=u,this.ownersService=d}ngOnInit(){var n,o,u,d,f,v,w,O,y,b,A,q,U,D;this.addressForm=this.fb.group({country:[null===(u=null===(o=null===(n=this.data)||void 0===n?void 0:n.owner)||void 0===o?void 0:o.address)||void 0===u?void 0:u.country,i.kI.required],city:[null===(v=null===(f=null===(d=this.data)||void 0===d?void 0:d.owner)||void 0===f?void 0:f.address)||void 0===v?void 0:v.city,i.kI.required],street:[null===(y=null===(O=null===(w=this.data)||void 0===w?void 0:w.owner)||void 0===O?void 0:O.address)||void 0===y?void 0:y.street,i.kI.required],zipCode:[null===(q=null===(A=null===(b=this.data)||void 0===b?void 0:b.owner)||void 0===A?void 0:A.address)||void 0===q?void 0:q.zipCode,i.kI.required]}),this.form=this.fb.group({fullName:[null===(D=null===(U=this.data)||void 0===U?void 0:U.owner)||void 0===D?void 0:D.fullName,i.kI.compose([i.kI.required,i.kI.minLength(3)])],address:this.addressForm})}submit(){var n,o;this.form.valid&&(this.isLoading=!0,this.subscriptions.sink=((null===(n=this.data)||void 0===n?void 0:n.owner)?this.ownersService.updateOwner(Object.assign(Object.assign({},null===(o=this.data)||void 0===o?void 0:o.owner),this.form.value)):this.ownersService.createOwner(this.form.value)).subscribe(u=>{this.dialogRef.close(u)}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(i.qu),t.Y36(p.so),t.Y36(p.WI),t.Y36(a.C))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-owner-dialog"]],features:[t.qOj],decls:42,vars:11,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"container-fluid","mb-4","p-0"],[1,"row"],[1,"col-6"],["appearance","fill",1,"w-100"],["matInput","","formControlName","fullName"],[4,"ngIf"],["matInput","","formControlName","country"],["matInput","","formControlName","city"],["matInput","","formControlName","street"],["matInput","","formControlName","zipCode"],["mat-dialog-actions",""],["mat-button","","type","button","color","primary",3,"disabled","click"],["mat-button","","mat-dialog-close",""],["mode","indeterminate"]],template:function(n,o){1&n&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"mat-form-field",5),t.TgZ(7,"mat-label"),t._uU(8,"Enter your full name"),t.qZA(),t._UZ(9,"input",6),t.YNc(10,F,2,0,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(11,"div",1),t.TgZ(12,"div",4),t.TgZ(13,"mat-form-field",5),t.TgZ(14,"mat-label"),t._uU(15,"Enter your country"),t.qZA(),t._UZ(16,"input",8),t.YNc(17,J,2,0,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(18,"div",4),t.TgZ(19,"mat-form-field",5),t.TgZ(20,"mat-label"),t._uU(21,"Enter your city"),t.qZA(),t._UZ(22,"input",9),t.YNc(23,k,2,0,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(24,"div",4),t.TgZ(25,"mat-form-field",5),t.TgZ(26,"mat-label"),t._uU(27,"Enter your street"),t.qZA(),t._UZ(28,"input",10),t.YNc(29,Q,2,0,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(30,"div",4),t.TgZ(31,"mat-form-field",5),t.TgZ(32,"mat-label"),t._uU(33,"Enter your Zip code"),t.qZA(),t._UZ(34,"input",11),t.YNc(35,j,2,0,"mat-error",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",12),t.TgZ(37,"button",13),t.NdJ("click",function(){return o.submit()}),t._uU(38),t.qZA(),t.TgZ(39,"button",14),t._uU(40,"Cancel"),t.qZA(),t.qZA(),t.YNc(41,B,2,0,"mat-dialog-actions",7),t.qZA()),2&n&&(t.xp6(1),t.hij("",o.data.owner?"Update":"Create new"," owner"),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(8),t.Q6J("ngIf",null==o.form.controls.fullName||null==o.form.controls.fullName.errors?null:o.form.controls.fullName.errors.required),t.xp6(1),t.Q6J("formGroup",o.addressForm),t.xp6(6),t.Q6J("ngIf",null==o.addressForm.controls.country||null==o.addressForm.controls.country.errors?null:o.addressForm.controls.country.errors.required),t.xp6(6),t.Q6J("ngIf",null==o.addressForm.controls.city||null==o.addressForm.controls.city.errors?null:o.addressForm.controls.city.errors.required),t.xp6(6),t.Q6J("ngIf",null==o.addressForm.controls.street||null==o.addressForm.controls.street.errors?null:o.addressForm.controls.street.errors.required),t.xp6(6),t.Q6J("ngIf",null==o.addressForm.controls.zipCode||null==o.addressForm.controls.zipCode.errors?null:o.addressForm.controls.zipCode.errors.required),t.xp6(2),t.Q6J("disabled",!o.form.valid),t.xp6(1),t.hij(" ",o.data.owner?"Update":"Create"," "),t.xp6(3),t.Q6J("ngIf",o.isLoading))},directives:[p.uh,i._Y,i.JL,i.sg,T.KE,T.hX,I.Nt,i.Fj,i.JJ,i.u,l.O5,p.H8,C.lW,p.ZT,T.TO,x.pW],styles:[""]}),e})();var m=s(2789),E=s(6627);function R(e,r){1&e&&(t.TgZ(0,"th",14),t._uU(1," Id"),t.qZA())}function M(e,r){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.id," ")}}function S(e,r){1&e&&(t.TgZ(0,"th",14),t._uU(1," Full name"),t.qZA())}function $(e,r){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.fullName," ")}}function z(e,r){1&e&&(t.TgZ(0,"th",14),t._uU(1," Country"),t.qZA())}function P(e,r){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",null==n||null==n.address?null:n.address.country," ")}}function L(e,r){1&e&&(t.TgZ(0,"th",14),t._uU(1," City"),t.qZA())}function W(e,r){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",null==n||null==n.address?null:n.address.city," ")}}function G(e,r){1&e&&(t.TgZ(0,"th",14),t._uU(1," Street"),t.qZA())}function H(e,r){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",null==n||null==n.address?null:n.address.street," ")}}function K(e,r){1&e&&(t.TgZ(0,"th",14),t._uU(1," Actions"),t.qZA())}function X(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"td",15),t.TgZ(1,"div",12),t.TgZ(2,"button",16),t.NdJ("click",function(){const d=t.CHM(n).$implicit;return t.oxw().edit(d)}),t.TgZ(3,"mat-icon"),t._uU(4,"edit"),t.qZA(),t.qZA(),t.TgZ(5,"button",17),t.NdJ("click",function(){const d=t.CHM(n).$implicit;return t.oxw().remove(d)}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function V(e,r){1&e&&t._UZ(0,"tr",18)}function tt(e,r){1&e&&t._UZ(0,"tr",19)}let et=(()=>{class e extends h.n{constructor(n,o){super(),this.matDialog=n,this.ownersService=o}ngOnInit(){}edit(n){const o=this.matDialog.open(Y,{width:"600px",data:{owner:n}});this.subscriptions.sink=o.afterClosed().subscribe(u=>{if(u){const d=this.list.find(f=>f.id===n.id);d&&(this.list.splice(this.list.indexOf(d),1,u),this.list=[...this.list])}})}create(){const n=this.matDialog.open(Y,{width:"600px",data:{}});this.subscriptions.sink=n.afterClosed().subscribe(o=>{o&&(this.list.unshift(o),this.list=[...this.list])})}remove(n){const o=this.matDialog.open(g.z);this.subscriptions.sink=o.afterClosed().subscribe(u=>{u&&(this.subscriptions.sink=this.ownersService.removeOwner(n.id).subscribe(d=>{this.list=this.list.filter(f=>f.id!==d.id)}))})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.uw),t.Y36(a.C))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-owners-table"]],inputs:{list:"list",displayedColumns:"displayedColumns"},features:[t.qOj],decls:26,vars:3,consts:[["mat-table","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fullName"],["matColumnDef","country"],["matColumnDef","city"],["matColumnDef","street"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"container-fluid","d-flex","justify-content-end"],[1,"example-button-container","mt-3"],["mat-mini-fab","","color","primary",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","Edit owner",3,"click"],["mat-icon-button","","aria-label","Delete owner",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,R,2,0,"th",2),t.YNc(3,M,2,1,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,S,2,0,"th",2),t.YNc(6,$,2,1,"td",3),t.BQk(),t.ynx(7,5),t.YNc(8,z,2,0,"th",2),t.YNc(9,P,2,1,"td",3),t.BQk(),t.ynx(10,6),t.YNc(11,L,2,0,"th",2),t.YNc(12,W,2,1,"td",3),t.BQk(),t.ynx(13,7),t.YNc(14,G,2,0,"th",2),t.YNc(15,H,2,1,"td",3),t.BQk(),t.ynx(16,8),t.YNc(17,K,2,0,"th",2),t.YNc(18,X,8,0,"td",3),t.BQk(),t.YNc(19,V,1,0,"tr",9),t.YNc(20,tt,1,0,"tr",10),t.qZA(),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"button",13),t.NdJ("click",function(){return o.create()}),t.TgZ(24,"mat-icon"),t._uU(25,"add"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.Q6J("dataSource",o.list),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},directives:[m.BZ,m.w1,m.fO,m.Dz,m.as,m.nj,C.lW,E.Hw,m.ge,m.ev,m.XQ,m.Gk],styles:[""]}),e})();const nt=[{path:"",component:(()=>{class e{constructor(n){this.ownersService=n}ngOnInit(){this.owners$=this.ownersService.getOwners(),this.displayedColumns=["fullName","country","city","street","actions"]}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.C))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-owners"]],decls:3,vars:4,consts:[[1,"container-fluid","d-flex","justify-content-center"],[1,"w-75","my-5",3,"list","displayedColumns"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"app-owners-table",1),t.ALo(2,"async"),t.qZA()),2&n&&(t.xp6(1),t.Q6J("list",t.lcZ(2,2,o.owners$))("displayedColumns",o.displayedColumns))},directives:[et],pipes:[l.Ov],styles:[""]}),e})(),data:{title:Z.s.OWNERS}}];let ot=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.Bz.forChild(nt)],c.Bz]}),e})();var rt=s(7539);let it=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,ot,rt.p9,E.Ps,m.p0,C.ot,p.Is,x.Cv,T.lN,I.c,i.UX]]}),e})()},9115:(N,_,s)=>{s.d(_,{C:()=>t});var l=s(7573),c=s(7716),Z=s(1841);let t=(()=>{class a{constructor(i){this.http=i}getOwners(){return this.http.get(`${l.cG}/owners/getAll`)}getById(i){return this.http.get(`${l.cG}/owners/getById/${i}`)}createOwner(i){return this.http.post(`${l.cG}/owners/create`,i)}updateOwner(i){return this.http.put(`${l.cG}/owners/update/${i.id}`,i)}removeOwner(i){return this.http.delete(`${l.cG}/owners/delete/${i}`)}}return a.\u0275fac=function(i){return new(i||a)(c.LFG(Z.eN))},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},4716:(N,_,s)=>{s.d(_,{z:()=>t});var l=s(7716),c=s(2238),Z=s(1095);let t=(()=>{class a{constructor(i){this.dialogRef=i}ngOnInit(){}submit(){this.dialogRef.close(!0)}}return a.\u0275fac=function(i){return new(i||a)(l.Y36(c.so))},a.\u0275cmp=l.Xpm({type:a,selectors:[["app-confirmation-dialog"]],decls:10,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-actions","",1,"d-flex","justify-content-between"],["mat-button","","mat-dialog-close",""],["mat-button","","color","warn",3,"click"]],template:function(i,p){1&i&&(l.TgZ(0,"h1",0),l._uU(1,"Confirm your action!"),l.qZA(),l.TgZ(2,"div"),l.TgZ(3,"p"),l._uU(4,"Are you sure you want to continue ?"),l.qZA(),l.qZA(),l.TgZ(5,"div",1),l.TgZ(6,"button",2),l._uU(7,"Cancel"),l.qZA(),l.TgZ(8,"button",3),l.NdJ("click",function(){return p.submit()}),l._uU(9,"Continue"),l.qZA(),l.qZA())},directives:[c.uh,c.H8,Z.lW,c.ZT],styles:[""]}),a})()}}]);